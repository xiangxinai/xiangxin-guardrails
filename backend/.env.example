# 应用配置
APP_NAME=Xiangxin Guardrails
APP_VERSION=1.1.0
DEBUG=false

# 超级管理员配置
# 警告：请务必修改默认管理员用户名和密码！
SUPER_ADMIN_USERNAME=admin@yourdomain.com
SUPER_ADMIN_PASSWORD=CHANGE-THIS-PASSWORD-IN-PRODUCTION

# 数据目录配置
DATA_DIR=/mnt/data/xiangxin-guardrails-data

# 数据库配置
DATABASE_URL=postgresql://xiangxin:your_password@localhost:54321/xiangxin_guardrails

# 模型配置
# 设置模型API地址（本地或云端）
GUARDRAILS_MODEL_API_URL=http://your-host-ip:your-port/v1
GUARDRAILS_MODEL_API_KEY=your-guardrails-model-api-key
GUARDRAILS_MODEL_NAME=Xiangxin-Guardrails-Text

# 检测最大上下文长度配置 (应该等于模型max-model-len - 1000)
MAX_DETECTION_CONTEXT_LENGTH=7168

# API配置
CORS_ORIGINS=*

# 日志配置
LOG_LEVEL=INFO

# 联系方式
SUPPORT_EMAIL=wanglei@xiangxinai.cn

# HuggingFace模型
HUGGINGFACE_MODEL=xiangxinai/Xiangxin-Guardrails-Text

# 嵌入模型API配置
# 用于知识库向量化的嵌入模型API
EMBEDDING_API_BASE_URL=http://your-host-ip:your-port/v1
EMBEDDING_API_KEY=your-embedding-api-key
EMBEDDING_MODEL_NAME=Xiangxin-Embedding-1024
EMBEDDING_MODEL_DIMENSION=1024
EMBEDDING_SIMILARITY_THRESHOLD=0.7
EMBEDDING_MAX_RESULTS=5

# JWT配置
# 警告：请生成一个安全的随机密钥！可以使用: openssl rand -base64 64
JWT_SECRET_KEY=PLEASE-GENERATE-A-SECURE-RANDOM-KEY-USING-openssl-rand-base64-64
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# 邮箱配置
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_USE_TLS=true
SMTP_USE_SSL=false

# 服务器配置 - 双服务架构
# 检测服务配置（高并发）
DETECTION_PORT=5001
DETECTION_UVICORN_WORKERS=32
DETECTION_MAX_CONCURRENT_REQUESTS=400

# 管理服务配置（低并发）
ADMIN_PORT=5000
ADMIN_UVICORN_WORKERS=2
ADMIN_MAX_CONCURRENT_REQUESTS=50

# 代理服务配置（高并发）
PROXY_PORT=5002
PROXY_UVICORN_WORKERS=24
PROXY_MAX_CONCURRENT_REQUESTS=300

# 私有化部署配置：是否将检测结果存储到数据库
# true: 存储到数据库（SaaS模式，完整数据分析）
# false: 仅写日志文件（私有化模式，减少数据库压力）
STORE_DETECTION_RESULTS=true