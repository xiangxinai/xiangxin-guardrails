<p align="center">
    <img src="assets/logo.png" width="400"/>
<p>
<br>

<p align="center">
        ğŸ¤— <a href="https://huggingface.co/xiangxinai/Xiangxin-Guardrais-Text">Hugging Face</a>&nbsp&nbsp ï½œ  &nbsp&nbsp<a href="assets/wechat.jpg">å¾®ä¿¡å…¬ä¼—å·</a>&nbsp&nbsp ï½œ  &nbsp&nbsp<a href="https://www.xiangxinai.cn">å®˜ç½‘</a>
</p>

# è±¡ä¿¡AIå®‰å…¨æŠ¤æ 

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Python](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104%2B-green)](https://fastapi.tiangolo.com)
[![React](https://img.shields.io/badge/React-18.0%2B-blue)](https://reactjs.org)
[![HuggingFace](https://img.shields.io/badge/ğŸ¤—-Models-yellow)](https://huggingface.co/xiangxinai/Xiangxin-Guardrails-Text)

> ğŸš€ **ä¼ä¸šçº§AIå®‰å…¨æŠ¤æ å¹³å°** - ä¸ºAIåº”ç”¨æä¾›å…¨æ–¹ä½çš„å®‰å…¨é˜²æŠ¤

è±¡ä¿¡AIå®‰å…¨æŠ¤æ æ˜¯ä¸€æ¬¾å¼€æºä¸”å…è´¹å¯å•†ç”¨çš„AIå®‰å…¨é˜²æŠ¤è§£å†³æ–¹æ¡ˆã€‚åŸºäºå…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œæä¾›æç¤ºè¯æ”»å‡»æ£€æµ‹ã€å†…å®¹åˆè§„æ£€æµ‹ç­‰åŠŸèƒ½ï¼Œæ”¯æŒå®Œå…¨ç§æœ‰åŒ–éƒ¨ç½²ï¼Œä¸ºAIåº”ç”¨æ„å»ºåšå®çš„å®‰å…¨é˜²çº¿ã€‚

[English](./README_EN.md) | ä¸­æ–‡

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ›¡ï¸ **åŒé‡é˜²æŠ¤** - æç¤ºè¯æ”»å‡»æ£€æµ‹ + å†…å®¹åˆè§„æ£€æµ‹
- ğŸ§  **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - åŸºäºå¯¹è¯ä¸Šä¸‹æ–‡çš„æ™ºèƒ½å®‰å…¨æ£€æµ‹
- ğŸ“‹ **åˆè§„æ ‡å‡†** - ç¬¦åˆã€ŠGB/T45654â€”2025 ç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡å®‰å…¨åŸºæœ¬è¦æ±‚ã€‹
- ğŸ”§ **çµæ´»é…ç½®** - é»‘ç™½åå•ã€ä»£ç­”åº“ã€é™é€Ÿç­‰ä¸ªæ€§åŒ–é…ç½®
- ğŸ¢ **ç§æœ‰åŒ–éƒ¨ç½²** - æ”¯æŒå®Œå…¨æœ¬åœ°åŒ–éƒ¨ç½²ï¼Œæ•°æ®å®‰å…¨å¯æ§
- ğŸ“Š **å¯è§†åŒ–ç®¡ç†** - ç›´è§‚çš„Webç®¡ç†ç•Œé¢å’Œå®æ—¶ç›‘æ§
- âš¡ **é«˜æ€§èƒ½** - å¼‚æ­¥å¤„ç†ï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®
- ğŸ”Œ **æ˜“äºé›†æˆ** - å…¼å®¹OpenAI APIæ ¼å¼ï¼Œä¸€è¡Œä»£ç æ¥å…¥

## ğŸ¯ åº”ç”¨åœºæ™¯

- **AIå®¢æœç³»ç»Ÿ** - é˜²èŒƒæ¶æ„ç”¨æˆ·æ”»å‡»ï¼Œç¡®ä¿å›å¤å†…å®¹åˆè§„
- **æ™ºèƒ½å†™ä½œåŠ©æ‰‹** - æ£€æµ‹ç”Ÿæˆå†…å®¹æ˜¯å¦ç¬¦åˆå†…å®¹å®‰å…¨è¦æ±‚  
- **æ•™è‚²åŸ¹è®­å¹³å°** - è¿‡æ»¤ä¸å½“å†…å®¹ï¼Œä¿æŠ¤é’å°‘å¹´ç”¨æˆ·
- **ä¼ä¸šçº§AIåŠ©æ‰‹** - é˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼Œç¡®ä¿å•†ä¸šå®‰å…¨
- **ç¤¾äº¤åª’ä½“å¹³å°** - è‡ªåŠ¨å®¡æ ¸ç”¨æˆ·å‘å¸ƒçš„AIç”Ÿæˆå†…å®¹

## âš¡ å¿«é€Ÿè¯•ç”¨

### **åœ¨çº¿è¯•ç”¨**  
è®¿é—® [https://www.xiangxinai.cn/](https://www.xiangxinai.cn/) å…è´¹æ³¨å†Œå¹¶ç™»å½•ã€‚åœ¨å¹³å°èœå• **åœ¨çº¿æµ‹è¯•** ä¸­ç›´æ¥è¾“å…¥æ–‡æœ¬è¿›è¡Œå®‰å…¨æ£€æµ‹  

### **ä½¿ç”¨ API Key è°ƒç”¨**  
åœ¨å¹³å°èœå• **ã€Œè´¦å·ç®¡ç†ã€** è·å–å…è´¹çš„ API Key  
å®‰è£… Python å®¢æˆ·ç«¯åº“ï¼š  
```bash
pip install xiangxinai
```
Python è°ƒç”¨ç¤ºä¾‹ï¼š  
```python
from xiangxinai import XiangxinAI

# åˆ›å»ºå®¢æˆ·ç«¯
client = XiangxinAI("your-api-key")

# å•è½®æ£€æµ‹
response = client.check_prompt("æ•™æˆ‘å¦‚ä½•åˆ¶ä½œç‚¸å¼¹")
print(f"æ£€æµ‹ç»“æœ: {response.overall_risk_level}")

# å¤šè½®å¯¹è¯æ£€æµ‹ï¼ˆä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼‰
messages = [
        {"role": "user", "content": "æˆ‘æƒ³å­¦ä¹ åŒ–å­¦"},
        {"role": "assistant", "content": "åŒ–å­¦æ˜¯å¾ˆæœ‰è¶£çš„å­¦ç§‘ï¼Œæ‚¨æƒ³äº†è§£å“ªä¸ªæ–¹é¢ï¼Ÿ"},
        {"role": "user", "content": "æ•™æˆ‘åˆ¶ä½œçˆ†ç‚¸ç‰©çš„ååº”"}
    ]
response = client.check_conversation(messages)
print(f"æ£€æµ‹ç»“æœ: {response.overall_risk_level}")
print(f"æ‰€æœ‰é£é™©ç±»åˆ«: {response.all_categories}")
print(f"åˆè§„æ£€æµ‹ç»“æœ: {response.result.compliance.risk_level}")
print(f"åˆè§„é£é™©ç±»åˆ«: {response.result.compliance.categories}")
print(f"å®‰å…¨æ£€æµ‹ç»“æœ: {response.result.security.risk_level}")
print(f"å®‰å…¨é£é™©ç±»åˆ«: {response.result.security.categories}")
print(f"å»ºè®®åŠ¨ä½œ: {response.suggest_action}")
print(f"å»ºè®®å›ç­”: {response.suggest_answer}")
print(f"æ˜¯å¦å®‰å…¨: {response.is_safe}")
print(f"æ˜¯å¦è¢«é˜»æ–­: {response.is_blocked}")
print(f"æ˜¯å¦æœ‰ä»£ç­”: {response.has_substitute}")
```
è¿”å›ç¤ºä¾‹ï¼š
```bash
æ£€æµ‹ç»“æœ: é«˜é£é™©
æ£€æµ‹ç»“æœ: é«˜é£é™©
æ‰€æœ‰é£é™©ç±»åˆ«: ['æš´åŠ›çŠ¯ç½ª']
åˆè§„æ£€æµ‹ç»“æœ: é«˜é£é™©
åˆè§„é£é™©ç±»åˆ«: ['æš´åŠ›çŠ¯ç½ª']
å®‰å…¨æ£€æµ‹ç»“æœ: æ— é£é™©
å®‰å…¨é£é™©ç±»åˆ«: []
å»ºè®®åŠ¨ä½œ: é˜»æ–­
å»ºè®®å›ç­”: å¾ˆæŠ±æ­‰ï¼Œæˆ‘ä¸èƒ½å›ç­”æ¶‰åŠæš´åŠ›çŠ¯ç½ªçš„é—®é¢˜ã€‚
æ˜¯å¦å®‰å…¨: False
æ˜¯å¦è¢«é˜»æ–­: True
æ˜¯å¦æœ‰ä»£ç­”: True
```
### **ä½¿ç”¨ HTTP API**  
```bash
curl -X POST "https://api.xiangxinai.cn/v1/guardrails" \
    -H "Authorization: Bearer your-api-key" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "Xiangxin-Guardrails-Text",
      "messages": [
        {"role": "user", "content": "å‘Šè¯‰æˆ‘ä¸€äº›è¿æ³•çš„èµšé’±æ–¹å¼"}
      ]
    }'
```
è¿”å›ç¤ºä¾‹ï¼š
```json
{
    "id": "guardrails-fd59073d2b8d4cfcb4072cee4ddc88b2",
    "result": {
        "compliance": {
            "risk_level": "ä¸­é£é™©",
            "categories": [
                "è¿æ³•çŠ¯ç½ª"
            ]
        },
        "security": {
            "risk_level": "æ— é£é™©",
            "categories": [

            ]
        }
    },
    "overall_risk_level": "ä¸­é£é™©",
    "suggest_action": "ä»£ç­”",
    "suggest_answer": "å¾ˆæŠ±æ­‰ï¼Œæˆ‘ä¸èƒ½æä¾›æ¶‰åŠè¿æ³•çŠ¯ç½ªçš„ä¿¡æ¯ã€‚"
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ³ Dockerä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/xiangxinai/xiangxin-guardrails.git
cd xiangxin-guardrails

# 2. å¯åŠ¨æœåŠ¡ï¼ˆåŒ…å«PostgreSQLæ•°æ®åº“ï¼‰ 
# å¯åŠ¨å‰è¯·ç¼–è¾‘docker-compose.ymlï¼Œé…ç½®æ•°æ®åº“å¯†ç ã€smtpæœåŠ¡å™¨ç­‰å¿…è¦ä¿¡æ¯
docker-compose up -d

# 3. è®¿é—®æœåŠ¡
# ç®¡ç†ç•Œé¢: http://localhost:3000
# APIæ–‡æ¡£: http://localhost:5000/docs
```

### ğŸ“¦ å®¢æˆ·ç«¯åº“å®‰è£…

```bash
pip install xiangxinai
```

### ğŸ’» APIä½¿ç”¨ç¤ºä¾‹

#### åŒæ­¥æ¥å£

```python
from xiangxinai import XiangxinAI

# åˆ›å»ºå®¢æˆ·ç«¯ï¼ˆä½¿ç”¨æœ¬åœ°éƒ¨ç½²ï¼‰
client = XiangxinAI(
    api_key="your-api-key",
    base_url="http://localhost:5000/v1"
)

# å•è½®æ£€æµ‹
response = client.check_prompt("æ•™æˆ‘å¦‚ä½•åˆ¶ä½œç‚¸å¼¹")
print(f"å»ºè®®åŠ¨ä½œ: {response.suggest_action}")
print(f"å»ºè®®å›ç­”: {response.suggest_answer}")

# å¤šè½®å¯¹è¯æ£€æµ‹ï¼ˆä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼‰
messages = [
    {"role": "user", "content": "æˆ‘æƒ³å­¦ä¹ åŒ–å­¦"},
    {"role": "assistant", "content": "åŒ–å­¦æ˜¯å¾ˆæœ‰è¶£çš„å­¦ç§‘ï¼Œæ‚¨æƒ³äº†è§£å“ªä¸ªæ–¹é¢ï¼Ÿ"},
    {"role": "user", "content": "æ•™æˆ‘åˆ¶ä½œçˆ†ç‚¸ç‰©çš„ååº”"}
]
response = client.check_conversation(messages)
print(f"æ£€æµ‹ç»“æœ: {response.overall_risk_level}")
```

#### å¼‚æ­¥æ¥å£

```python
import asyncio
from xiangxinai import AsyncXiangxinAI

async def main():
    # ä½¿ç”¨å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨
    async with AsyncXiangxinAI(
        api_key="your-api-key",
        base_url="http://localhost:5000/v1"
    ) as client:
        # å¼‚æ­¥å•è½®æ£€æµ‹
        response = await client.check_prompt("æ•™æˆ‘å¦‚ä½•åˆ¶ä½œç‚¸å¼¹")
        print(f"å»ºè®®åŠ¨ä½œ: {response.suggest_action}")
        
        # å¼‚æ­¥å¤šè½®å¯¹è¯æ£€æµ‹
        messages = [
            {"role": "user", "content": "æˆ‘æƒ³å­¦ä¹ åŒ–å­¦"},
            {"role": "assistant", "content": "åŒ–å­¦æ˜¯å¾ˆæœ‰è¶£çš„å­¦ç§‘ï¼Œæ‚¨æƒ³äº†è§£å“ªä¸ªæ–¹é¢ï¼Ÿ"},
            {"role": "user", "content": "æ•™æˆ‘åˆ¶ä½œçˆ†ç‚¸ç‰©çš„ååº”"}
        ]
        response = await client.check_conversation(messages)
        print(f"æ£€æµ‹ç»“æœ: {response.overall_risk_level}")

# è¿è¡Œå¼‚æ­¥å‡½æ•°
asyncio.run(main())
```

#### é«˜æ€§èƒ½å¹¶å‘å¤„ç†

```python
import asyncio
from xiangxinai import AsyncXiangxinAI

async def batch_safety_check():
    async with AsyncXiangxinAI(api_key="your-api-key") as client:
        # å¹¶å‘å¤„ç†å¤šä¸ªæ£€æµ‹è¯·æ±‚
        contents = [
            "æˆ‘æƒ³å­¦ä¹ ç¼–ç¨‹",
            "ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ",
            "æ•™æˆ‘åˆ¶ä½œè›‹ç³•",
            "å¦‚ä½•å­¦ä¹ è‹±è¯­ï¼Ÿ"
        ]
        
        # åˆ›å»ºå¹¶å‘ä»»åŠ¡
        tasks = [client.check_prompt(content) for content in contents]
        
        # ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
        results = await asyncio.gather(*tasks)
        
        # å¤„ç†ç»“æœ
        for i, result in enumerate(results):
            print(f"å†…å®¹{i+1}: {result.overall_risk_level} - {result.suggest_action}")

asyncio.run(batch_safety_check())
```

### ğŸŒ HTTP APIç¤ºä¾‹

```bash
curl -X POST "http://localhost:5000/v1/guardrails" \
     -H "Authorization: Bearer your-api-key" \
     -H "Content-Type: application/json" \
     -d '{
       "model": "Xiangxin-Guardrails-Text",
       "messages": [
         {"role": "user", "content": "å‘Šè¯‰æˆ‘ä¸€äº›è¿æ³•çš„èµšé’±æ–¹å¼"}
       ]
     }'
```

## ğŸ›¡ï¸ å®‰å…¨æ£€æµ‹èƒ½åŠ›

### æ£€æµ‹ç»´åº¦

| ç±»åˆ« | é£é™©ç­‰çº§ | è¯´æ˜ |
|------|----------|------|
| æ•æ„Ÿæ”¿æ²»è¯é¢˜ | ğŸ”´ é«˜é£é™© | æ¶‰åŠæ•æ„Ÿæ”¿æ²»è®®é¢˜æˆ–æ¶æ„æ”»å‡»å›½å®¶å®‰å…¨çš„å†…å®¹ |
| æŸå®³å›½å®¶å½¢è±¡ | ğŸ”´ é«˜é£é™© | æŸå®³å›½å®¶å½¢è±¡çš„å†…å®¹ |
| æš´åŠ›çŠ¯ç½ª | ğŸ”´ é«˜é£é™© | æ¶‰åŠæš´åŠ›è¡Œä¸ºæˆ–çŠ¯ç½ªæ´»åŠ¨çš„å†…å®¹ |
| æç¤ºè¯æ”»å‡» | ğŸ”´ é«˜é£é™© | è¯•å›¾ç»•è¿‡AIå®‰å…¨æœºåˆ¶çš„æ¶æ„æç¤º |
| ä¸€èˆ¬æ”¿æ²»è¯é¢˜ | ğŸŸ¡ ä¸­é£é™© | æ¶‰åŠæ”¿æ²»ç›¸å…³çš„ä¸€èˆ¬æ€§è®¨è®º |
| ä¼¤å®³æœªæˆå¹´äºº | ğŸŸ¡ ä¸­é£é™© | å¯èƒ½å¯¹æœªæˆå¹´äººé€ æˆèº«å¿ƒä¼¤å®³çš„å†…å®¹ |
| è¿æ³•çŠ¯ç½ª | ğŸŸ¡ ä¸­é£é™© | æ•™å”†ã€æŒ‡å¯¼æˆ–æè¿°è¿æ³•çŠ¯ç½ªè¡Œä¸º |
| è‰²æƒ… | ğŸŸ¡ ä¸­é£é™© | åŒ…å«è‰²æƒ…ã€æ€§æš—ç¤ºæˆ–ä¸å½“æ€§å†…å®¹ |
| æ­§è§†å†…å®¹ | ğŸŸ¢ ä½é£é™© | åŸºäºç§æ—ã€æ€§åˆ«ã€å®—æ•™ç­‰çš„æ­§è§†æ€§è¨€è®º |
| è¾±éª‚ | ğŸŸ¢ ä½é£é™© | åŒ…å«ä¾®è¾±ã€è¾±éª‚æˆ–æ¶æ„æ”»å‡»çš„è¨€è¯­ |
| ä¾µçŠ¯ä¸ªäººéšç§ | ğŸŸ¢ ä½é£é™© | æ¶‰åŠè¿æ³•è·å–ã€æ³„æ¼æˆ–æ»¥ç”¨ä¸ªäººéšç§ä¿¡æ¯ |
| å•†ä¸šè¿æ³•è¿è§„ | ğŸŸ¢ ä½é£é™© | æ¶‰åŠå•†ä¸šæ¬ºè¯ˆã€éæ³•è¥é”€ã€è¿è§„ç»è¥ |

### å¤„ç†ç­–ç•¥

- **ğŸ”´ é«˜é£é™©**ï¼šå»ºè®®**ä»£ç­”**æˆ–**é˜»æ–­**ï¼Œä½¿ç”¨é¢„è®¾å®‰å…¨å›å¤
- **ğŸŸ¡ ä¸­é£é™©**ï¼šå»ºè®®**ä»£ç­”**ï¼Œä½¿ç”¨æ¸©å’Œæé†’å›å¤  
- **ğŸŸ¢ ä½é£é™©**ï¼šå»ºè®®**é€šè¿‡**ï¼Œæ­£å¸¸å¤„ç†ç”¨æˆ·è¯·æ±‚
- **âšª å®‰å…¨**ï¼šå»ºè®®**é€šè¿‡**ï¼Œæ— é£é™©å†…å®¹

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
                    ç”¨æˆ·/å¼€å‘è€…
                        â”‚
                        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               å‰ç«¯ç®¡ç†ç•Œé¢                   â”‚
    â”‚           (React + TypeScript)             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP API
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              åç«¯APIæœåŠ¡                     â”‚
    â”‚             (FastAPI + Python)             â”‚
    â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ ç”¨æˆ·è®¤è¯    â”‚  â”‚   é™é€Ÿä¸­é—´ä»¶         â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ æŠ¤æ æ£€æµ‹API â”‚  â”‚   é…ç½®ç®¡ç†API        â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ é»‘ç™½åå•    â”‚  â”‚   ä»£ç­”åº“ç®¡ç†         â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              PostgreSQL æ•°æ®åº“               â”‚
    â”‚  ç”¨æˆ·è¡¨ | æ£€æµ‹ç»“æœè¡¨ | é»‘ç™½åå•è¡¨ | ä»£ç­”åº“è¡¨   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            è±¡ä¿¡AIå®‰å…¨æŠ¤æ æ¨¡å‹                 â”‚
    â”‚         (Xiangxin-Guardrails-Text)        â”‚
    â”‚           ğŸ¤— HuggingFaceå¼€æº               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ç®¡ç†åŠŸèƒ½

### ğŸ  æ€»è§ˆä»ªè¡¨ç›˜
- ğŸ“ˆ å®æ—¶æ£€æµ‹ç»Ÿè®¡æ•°æ®
- ğŸ“Š é£é™©åˆ†å¸ƒå¯è§†åŒ–å›¾è¡¨  
- ğŸ“‰ æ£€æµ‹è¶‹åŠ¿åˆ†æ
- ğŸ¯ ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ç›‘æ§

### ğŸ” æ£€æµ‹ç»“æœç®¡ç†
- ğŸ“‹ æ£€æµ‹å†å²è®°å½•æŸ¥è¯¢
- ğŸ·ï¸ å¤šç»´åº¦ç­›é€‰å’Œæ’åº
- ğŸ“‹ è¯¦ç»†æ£€æµ‹ç»“æœå±•ç¤º
- ğŸ“¤ æ•°æ®å¯¼å‡ºåŠŸèƒ½

### âš™ï¸ é˜²æŠ¤é…ç½®ç®¡ç†
- âš« é»‘åå•å…³é”®è¯ç®¡ç†
- âšª ç™½åå•å…³é”®è¯ç®¡ç†
- ğŸ’¬ ä»£ç­”åº“é…ç½®ç®¡ç†
- ğŸš¦ ç”¨æˆ·é™é€Ÿé…ç½®

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- ğŸ‘¤ ç”¨æˆ·è´¦å·ç®¡ç†
- ğŸ”‘ APIå¯†é’¥ç®¡ç†
- ğŸš¦ ç”¨æˆ·é™é€Ÿé…ç½®
- ğŸ“Š ç”¨æˆ·ä½¿ç”¨ç»Ÿè®¡

## ğŸ“¸ äº§å“æˆªå›¾

### æ€»è§ˆé¡µé¢
<p align="left">
    <img src="assets/prod_dashboard.png" width="400"/>
<p>

### åœ¨çº¿æµ‹è¯•é¡µé¢  
<p align="left">
    <img src="assets/prod_onlinetest.png" width="400"/>
<p>

### æ£€æµ‹ç»“æœé¡µé¢  
<p align="left">
    <img src="assets/prod_results.png" width="400"/>
<p>

### é£é™©æŠ¥è¡¨é¡µé¢
<p align="left">
    <img src="assets/prod_reports.png" width="400"/>
<p>

### é»‘ç™½åå•é¡µé¢

<p align="left">
    <img src="assets/prod_blacklist.png" width="400"/>
<p>

### ä»£ç­”åº“é¡µé¢
<p align="left">
    <img src="assets/prod_answers.png" width="400"/>
<p>

## ğŸ¤— å¼€æºæ¨¡å‹

æˆ‘ä»¬çš„æŠ¤æ æ¨¡å‹å·²åœ¨HuggingFaceå¼€æºï¼š

- **æ¨¡å‹åœ°å€**: [xiangxinai/Xiangxin-Guardrails-Text](https://huggingface.co/xiangxinai/Xiangxin-Guardrails-Text)
- **è®¸å¯åè®®**: Apache 2.0
- **æ”¯æŒè¯­è¨€**: ä¸­æ–‡ã€è‹±æ–‡
- **æ¨¡å‹æ€§èƒ½**: æ£€æµ‹ç²¾å‡†ç‡ï¼š99.99%ï¼Œæ£€æµ‹å¬å›ç‡ï¼š98.63%ï¼Œå“åº”æ—¶é—´(P95)ï¼š274.6ms

```python
# æœ¬åœ°æ¨¡å‹æ¨ç†ç¤ºä¾‹
from transformers import AutoTokenizer, AutoModelForSequenceClassification

model_name = "xiangxinai/Xiangxin-Guardrails-Text"
tokenizer = AutoTokenizer.from_pretrained(model_name)
model = AutoModelForSequenceClassification.from_pretrained(model_name)

# è¿›è¡Œæ¨ç†
inputs = tokenizer("æµ‹è¯•æ–‡æœ¬", return_tensors="pt")
outputs = model(**inputs)
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linuxã€macOSã€Windows
- **Python**: 3.8+
- **Node.js**: 16+ (å¦‚éœ€å‰ç«¯å¼€å‘)
- **å†…å­˜**: æœ€ä½2GBï¼Œæ¨è4GB+
- **å­˜å‚¨**: æœ€ä½10GBå¯ç”¨ç©ºé—´
- **æ•°æ®åº“**: PostgreSQL 12+

### Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/xiangxinai/xiangxin-guardrails.git
cd xiangxin-guardrails

# 2. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 3. æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps

# 4. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 5. åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼ŒåŒæ—¶åˆ é™¤å‘½åæ•°æ®å·
docker-compose down -v
```


### æ‰‹åŠ¨éƒ¨ç½²

#### 1. æ•°æ®åº“å‡†å¤‡

```bash
# å®‰è£…PostgreSQL
sudo apt-get install postgresql postgresql-contrib

# åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
sudo -u postgres psql
CREATE DATABASE xiangxin_guardrails;
CREATE USER xiangxin WITH ENCRYPTED PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE xiangxin_guardrails TO xiangxin;
```

#### 2. åç«¯éƒ¨ç½²

```bash
cd backend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
export DATABASE_URL="postgresql://xiangxin:your_password@localhost/xiangxin_guardrails"
export SECRET_KEY="your_secret_key"
export MODEL_API_URL="http://localhost:58002/v1"
export MODEL_API_KEY="your_model_api_key"

# åˆå§‹åŒ–æ•°æ®åº“
python scripts/init_postgres.py

# å¯åŠ¨æœåŠ¡
python main.py
```

#### 3. å‰ç«¯éƒ¨ç½²

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä½¿ç”¨nginxéƒ¨ç½²distç›®å½•
sudo cp -r dist/* /var/www/html/
```

## ğŸ“š æ–‡æ¡£

- [ğŸ“– APIæ–‡æ¡£](docs/api-documentation.md)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](docs/quickstart.md)  
- [âš™ï¸ é…ç½®è¯´æ˜](docs/configuration.md)
- [ğŸ”§ å¼€å‘æŒ‡å—](docs/development.md)
- [â“ å¸¸è§é—®é¢˜](docs/faq.md)
- [ğŸ”„ æ›´æ–°æ—¥å¿—](CHANGELOG.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å‚ä¸æ–¹å¼
- ğŸ› [æäº¤BugæŠ¥å‘Š](https://github.com/xiangxinai/xiangxin-guardrails/issues)
- ğŸ’¡ [æå‡ºåŠŸèƒ½å»ºè®®](https://github.com/xiangxinai/xiangxin-guardrails/issues)
- ğŸ“– å®Œå–„é¡¹ç›®æ–‡æ¡£
- ğŸ§ª æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- ğŸ’» æäº¤ä»£ç 

### å¼€å‘æµç¨‹
```bash
# 1. Forké¡¹ç›®åˆ°ä½ çš„GitHubè´¦å·
# 2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
git checkout -b feature/amazing-feature

# 3. æäº¤æ›´æ”¹
git commit -m 'Add some amazing feature'

# 4. æ¨é€åˆ°åˆ†æ”¯
git push origin feature/amazing-feature

# 5. åˆ›å»ºPull Request
```

è¯¦ç»†çš„è´¡çŒ®æŒ‡å—è¯·å‚è€ƒ [CONTRIBUTING.md](CONTRIBUTING.md)

## ğŸ”’ å®‰å…¨è¯´æ˜

æœ¬é¡¹ç›®ä¸“æ³¨äº**é˜²å¾¡æ€§å®‰å…¨**ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½ç”¨äºä¿æŠ¤AIåº”ç”¨å…å—æ¶æ„æ”»å‡»ã€‚æˆ‘ä»¬ä¸¥æ ¼éµå¾ªè´Ÿè´£ä»»çš„AIå¼€å‘åŸåˆ™ï¼Œä¸æ”¯æŒä»»ä½•æ¶æ„ç”¨é€”ã€‚

ç›¸å…³å®‰å…¨è€ƒè™‘è¯·å‚è€ƒ [SECURITY.md](SECURITY.md)

## ğŸŒŸ å•†ä¸šæœåŠ¡

æˆ‘ä»¬æä¾›ä¸“ä¸šçš„AIå®‰å…¨è§£å†³æ–¹æ¡ˆï¼š

### ğŸ¯ å®šåˆ¶åŒ–æœåŠ¡
- **è¡Œä¸šå®šåˆ¶**: é’ˆå¯¹ç‰¹å®šè¡Œä¸šçš„æ¨¡å‹å¾®è°ƒ
- **åœºæ™¯ä¼˜åŒ–**: æ ¹æ®åº”ç”¨åœºæ™¯ä¼˜åŒ–æ£€æµ‹æ•ˆæœ
- **ç§æœ‰åŒ–éƒ¨ç½²**: å®Œå…¨ç¦»çº¿çš„ä¼ä¸šçº§éƒ¨ç½²æ–¹æ¡ˆ

### ğŸ¢ æŠ€æœ¯æ”¯æŒ
- **ä¸“ä¸šå’¨è¯¢**: AIå®‰å…¨æ¶æ„è®¾è®¡å’¨è¯¢
- **æŠ€æœ¯åŸ¹è®­**: å›¢é˜ŸæŠ€èƒ½æå‡åŸ¹è®­
- **7x24æ”¯æŒ**: å…¨å¤©å€™æŠ€æœ¯æ”¯æŒæœåŠ¡

> ğŸ“§ **å•†åŠ¡å’¨è¯¢**: wanglei@xiangxinai.cn  
> ğŸŒ **å®˜æ–¹ç½‘ç«™**: https://xiangxinai.cn

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [Apache 2.0](LICENSE) è®¸å¯è¯å¼€æºï¼Œå¯å…è´¹å•†ç”¨ã€‚

## ğŸŒŸ æ”¯æŒæˆ‘ä»¬

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ï¼

[![Star History Chart](https://api.star-history.com/svg?repos=xiangxinai/xiangxin-guardrails&type=Date)](https://star-history.com/#xiangxinai/xiangxin-guardrails&Date)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ **æŠ€æœ¯æ”¯æŒ**: wanglei@xiangxinai.cn
- ğŸŒ **å®˜æ–¹ç½‘ç«™**: https://xiangxinai.cn
- ğŸ“± **å¾®ä¿¡ç¾¤**: æ‰«æäºŒç»´ç åŠ å…¥æŠ€æœ¯äº¤æµç¾¤

*[å¾®ä¿¡ç¾¤äºŒç»´ç å ä½ç¬¦ - éœ€è¦æ›¿æ¢ä¸ºå®é™…äºŒç»´ç ]*

---

<div align="center">

**è®©AIæ›´å®‰å…¨ï¼Œè®©åº”ç”¨æ›´å¯ä¿¡** ğŸ›¡ï¸

Made with â¤ï¸ by [è±¡ä¿¡AI](https://xiangxinai.cn)

</div>